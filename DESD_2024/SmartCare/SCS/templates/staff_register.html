{% extends 'index.html' %}

{% block content %}
<h2>Register</h2>
<form method="POST">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Register</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const userTypeField = document.getElementsByName('user_type')[0];
        const specializationField = document.querySelector('.field-specialization');
        const partTimeField = document.querySelector('.field-isPartTime');

        function toggleDoctorFields() {
            const isDoctor = userTypeField.value === 'doctor';
            specializationField.style.display = isDoctor ? 'block' : 'none';
            partTimeField.style.display = isDoctor ? 'block' : 'none';
        }

        // Initial toggle on page load
        toggleDoctorFields();

        // Add event listener for changes
        userTypeField.addEventListener('change', toggleDoctorFields);
    });
</script>

{% endblock %}